<!doctype html>
<html lang="zh-cn">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><!-- 默认使用最新浏览器 -->
    <meta http-equiv="Cache-Control" content="no-siteapp" /><!-- 不被网页(加速)转码 -->
    <meta name="robots" content="index,follow"/> <!-- 搜索引擎抓取 -->
    <meta name="renderer" content="webkit" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui" />
    <meta name="apple-mobile-web-app-capable" content="yes" /><!-- 删除苹果默认的工具栏和菜单栏 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /><!-- 设置苹果工具栏颜色 -->
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-itunes-app" content="app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL">
    <meta name="screen-orientation" content="portrait" /><!-- uc强制竖屏 -->
    <meta name="full-screen" content="yes" /><!-- UC强制全屏 -->
    <meta name="browsermode" content="application" /><!-- UC应用模式 -->
    <meta name="x5-orientation" content="portrait" /><!-- QQ强制竖屏 -->
    <meta name="x5-fullscreen" content="true" /><!-- QQ强制全屏 -->
    <meta name="x5-page-mode" content="app" /><!-- QQ应用模式 -->
    <meta name="format-detection" content="telephone=no, address=no, email=no" /><!-- 忽略页面中的数字识别\email识别\地址识别 -->
    <link rel="shortcut icon" type="image/ico" href="/favicon.ico"/>
    <style>
    html, body {
        height: 100%;
    }
    body {
        margin: 0;
        padding: 0;
        background: url(/img/map.png) no-repeat;
        background-size: cover;
        background-position: center;
    }
    </style>
    <title>加速度/速度演示</title>
</head>
<body>

    <div id="mine" class="mine" style="
        position: absolute;
        top: 50%;
        left: 50%;
        width: 10vw;
        height: 12vw;
        background: url(/img/avatar1.png) no-repeat;
        background-size: cover;
        background-position: center;
        margin: -5vw 0 0 -6vw;
        border: 1px solid red;
    "></div>

    <script>
        // 
        var eleMine = document.getElementById('mine'),
            forwardAcc = 0, leftAcc = 0,
            absoluteTop, absoluteleft;
        window.addEventListener('devicemotion', function (evt) {
            var _x = evt.acceleration.x.toFixed(1),
                _y = evt.acceleration.y.toFixed(1),
                _z = evt.acceleration.z.toFixed(1);
            // forwardAcc = forwardAcc + parseInt(_y, 10);
            if (_y) {
                absoluteTop = parseInt(eleMine.style.top, 10);
                absoluteTop = absoluteTop + (5 * _y);
                absoluteTop = absoluteTop < 0 ? 0 : (absoluteTop > 100 ? 100 : absoluteTop);
                eleMine.style.top = absoluteTop + '%';
            }
        }, false);
    </script>
</body>
</html>